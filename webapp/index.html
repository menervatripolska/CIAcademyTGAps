<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <title>Crypto Intelligence Academy ‚Äî –í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç–±–æ—Ä</title>
  <link rel="stylesheet" href="css/kryptan.css">
  <style>
    .welcome-screen, .dashboard-screen { display: none; }
    .welcome-screen.active, .dashboard-screen.active { display: block; }

    .dual-heroes {
      display: flex;
      align-items: flex-end;
      justify-content: center;
      position: relative;
      margin-bottom: 28px;
      height: 140px;
    }
    .dual-heroes img {
      width: 110px;
      height: 110px;
      border-radius: 50%;
      object-fit: cover;
      object-position: top center;
      border: 2px solid var(--border-neon);
      position: absolute;
    }
    .dual-heroes .hero-m {
      left: 50%;
      margin-left: -75px;
      border-color: rgba(0,230,118,0.6);
      box-shadow: var(--green-glow);
      animation: heroFloat 4s ease-in-out infinite;
      z-index: 1;
    }
    .dual-heroes .hero-f {
      left: 50%;
      margin-left: -35px;
      border-color: rgba(155,48,255,0.7);
      box-shadow: var(--purple-glow);
      animation: heroFloat 4s ease-in-out infinite 2s;
      z-index: 2;
    }

    .test-list { display: flex; flex-direction: column; gap: 12px; margin: 20px 0; }

    .test-row {
      display: flex;
      align-items: center;
      gap: 14px;
      padding: 14px 16px;
      background: rgba(255,255,255,0.02);
      border: 1px solid var(--border-subtle);
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all var(--transition);
      text-decoration: none;
    }
    .test-row:hover {
      border-color: var(--border-neon);
      background: rgba(155,48,255,0.06);
    }
    .test-row.locked {
      opacity: 0.4;
      cursor: not-allowed;
      pointer-events: none;
    }
    .test-row.done {
      border-color: rgba(0,230,118,0.35);
      background: rgba(0,230,118,0.04);
    }
    .test-row-icon {
      font-size: 1.5rem;
      min-width: 36px;
      text-align: center;
    }
    .test-row-info { flex: 1; }
    .test-row-name {
      font-family: var(--font-body);
      font-size: 1rem;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 2px;
    }
    .test-row-desc {
      font-family: var(--font-text);
      font-size: 0.8rem;
      color: var(--text-muted);
    }
    .test-row-status {
      font-family: var(--font-title);
      font-size: 0.7rem;
      letter-spacing: 0.1em;
    }
    .test-row.done .test-row-status { color: var(--neon-green); }
    .test-row:not(.done):not(.locked) .test-row-status { color: var(--neon-purple); }
  </style>
</head>
<body>
<div class="page-wrap">

  <!-- ‚ïê‚ïê WELCOME SCREEN ‚ïê‚ïê -->
  <div class="welcome-screen active" id="welcomeScreen">

    <div class="ka-header">
      <div class="ka-logo">
        <div class="ka-logo-icon">K</div>
        <span class="ka-logo-text">Crypto Intelligence Academy</span>
      </div>
      <h1 class="ka-title">–í—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π<br>–û—Ç–±–æ—Ä</h1>
      <p class="ka-subtitle">–î–æ–∫–∞–∂–∏, —á—Ç–æ –≥–æ—Ç–æ–≤ –∫ –∫—Ä–∏–ø—Ç–æ-—Ä—ã–Ω–∫—É</p>
    </div>

    <div class="dual-heroes">
      <img src="assets/hero_m.png" class="hero-m" alt="–ö—Ä–∏–ø—Ç–∞–Ω" onerror="this.style.display='none'">
      <img src="assets/hero_f.png" class="hero-f" alt="–ö—Ä–∏–ø—Ç–∞–Ω—à–∞" onerror="this.style.display='none'">
    </div>

    <div class="ka-card">
      <div class="question-num">‚ö° –¢–≤–æ—è –º–∏—Å—Å–∏—è</div>
      <p style="font-family:var(--font-body);font-size:1.05rem;font-weight:500;color:var(--text-primary);line-height:1.6;margin-bottom:20px;">
        –ê–∫–∞–¥–µ–º–∏—è –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Å–µ—Ö. –ú—ã –∏—â–µ–º —Ç–µ—Ö, –∫—Ç–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ –≥–æ—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ä–∏—Å–∫–∞–º–∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω–æ–≥–æ —Ä—ã–Ω–∫–∞.
      </p>
      <ul class="rules-list">
        <li data-icon="üß†">–ü—Ä–æ–π–¥–∏ –≤—Å–µ 5 –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Å—Ç–æ–≤ –ø–æ –æ—á–µ—Ä–µ–¥–∏</li>
        <li data-icon="‚ö°">–û—Ç–≤–µ—á–∞–π —á–µ—Å—Ç–Ω–æ ‚Äî —Å–∏—Å—Ç–µ–º–∞ –≤—ã—è–≤–ª—è–µ—Ç –∏—Å–∫–∞–∂–µ–Ω–∏—è</li>
        <li data-icon="üïê">–ó–∞–π–º—ë—Ç ~15 –º–∏–Ω—É—Ç. –ù–µ —Ç–æ—Ä–æ–ø–∏—Å—å</li>
        <li data-icon="üîí">–ö–∞–∂–¥—ã–π —Å–ª–µ–¥—É—é—â–∏–π —Ç–µ—Å—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ</li>
        <li data-icon="üéØ">–ü–æ—Å–ª–µ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ ‚Äî –ø–æ–ª—É—á–∏—à—å –≤–µ—Ä–¥–∏–∫—Ç –ê–∫–∞–¥–µ–º–∏–∏</li>
      </ul>
    </div>

    <button class="btn btn-primary btn-full" onclick="startTesting()" style="margin-top:8px;">
      ‚ö° –ù–∞—á–∞—Ç—å –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç–±–æ—Ä
    </button>

  </div>

  <!-- ‚ïê‚ïê DASHBOARD SCREEN ‚ïê‚ïê -->
  <div class="dashboard-screen" id="dashboardScreen">

    <div class="ka-header" style="padding-top:24px;">
      <div class="ka-logo">
        <div class="ka-logo-icon">K</div>
        <span class="ka-logo-text">Crypto Intelligence Academy</span>
      </div>
    </div>

    <div id="progressBarWrap"></div>

    <div class="ka-card">
      <div class="question-num">üéØ –¢–µ—Å—Ç—ã –æ—Ç–±–æ—Ä–∞</div>
      <div class="test-list" id="testList"></div>
    </div>

    <div id="finishWrap" class="hidden">
      <div class="chain-divider"><span class="chain-icon">‚óà ‚óà ‚óà</span></div>
      <button class="btn btn-success btn-full" onclick="goToResults()">
        üèÜ –ü–æ–ª—É—á–∏—Ç—å –≤–µ—Ä–¥–∏–∫—Ç –ê–∫–∞–¥–µ–º–∏–∏
      </button>
    </div>

  </div>

</div>

<script src="js/core.js"></script>
<script>
const TEST_META = [
  { key: 'holland',         emoji: 'üéØ', name: '–¢–µ—Å—Ç –ì–æ–ª–ª–∞–Ω–¥–∞',         desc: '–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–∏–ø –ª–∏—á–Ω–æ—Å—Ç–∏ (RIASEC)',     url: 'tests/holland.html' },
  { key: 'gambling',        emoji: 'üé≤', name: '–°–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –∫ –∞–∑–∞—Ä—Ç—É',   desc: '–†–∏—Å–∫-–ø—Ä–æ—Ñ–∏–ª—å –∏ –∏–º–ø—É–ª—å—Å–∏–≤–Ω–æ—Å—Ç—å',             url: 'tests/gambling.html' },
  { key: 'hardiness',       emoji: 'üõ°Ô∏è', name: '–ñ–∏–∑–Ω–µ—Å—Ç–æ–π–∫–æ—Å—Ç—å',        desc: '–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å (–ú–∞–¥–¥–∏)',      url: 'tests/hardiness.html' },
  { key: 'proforientation', emoji: 'üî≠', name: '–ü—Ä–æ—Ñ–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ',    desc: '–ò–Ω—Ç–µ—Ä–µ—Å—ã, —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∏ –º–æ—Ç–∏–≤–∞—Ü–∏—è',        url: 'tests/proforientation.html' },
  { key: 'tolerance',       emoji: '‚öñÔ∏è', name: '–¢–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç—å',         desc: '–û—Ç–Ω–æ—à–µ–Ω–∏–µ –∫ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ—Å—Ç–∏',             url: 'tests/tolerance.html' },
];

function startTesting() {
  const p = Progress.get();
  // Mark that user has started
  if (!p._started) {
    p._started = Date.now();
    Progress.set(p);
  }
  showDashboard();
}

function showDashboard() {
  document.getElementById('welcomeScreen').classList.remove('active');
  document.getElementById('dashboardScreen').classList.add('active');
  renderDashboard();
}

function renderDashboard() {
  renderProgressBar('progressBarWrap');
  const p = Progress.get();
  const list = document.getElementById('testList');

  list.innerHTML = TEST_META.map((t, i) => {
    const done = !!p[t.key];
    const prevDone = i === 0 || !!p[TEST_META[i-1].key];
    const locked = !done && !prevDone;
    const cls = done ? 'done' : (locked ? 'locked' : '');
    const statusText = done ? '‚úÖ –ü—Ä–æ–π–¥–µ–Ω' : (locked ? 'üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω' : '‚ñ∂ –ù–∞—á–∞—Ç—å');
    return `
      <div class="test-row ${cls}" onclick="${!locked && !done ? `goToTestPage('${t.url}')` : ''}">
        <div class="test-row-icon">${done ? '‚úÖ' : t.emoji}</div>
        <div class="test-row-info">
          <div class="test-row-name">${t.name}</div>
          <div class="test-row-desc">${t.desc}</div>
        </div>
        <div class="test-row-status">${statusText}</div>
      </div>`;
  }).join('');

  // Show finish button if all done
  if (Progress.allComplete()) {
    document.getElementById('finishWrap').classList.remove('hidden');
  }
}

function goToTestPage(url) {
  window.location.href = url;
}

function goToResults() {
  window.location.href = 'result.html';
}

// On load: check if already started
document.addEventListener('DOMContentLoaded', () => {
  const p = Progress.get();
  if (p._started) {
    showDashboard();
  }
});
</script>
</body>
</html>
